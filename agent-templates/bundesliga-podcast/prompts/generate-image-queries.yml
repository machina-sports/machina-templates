prompts:

  # bundesliga-podcast-generate-image-queries
  - type: prompt
    name: bundesliga-podcast-generate-image-queries
    title: Bundesliga Podcast Generate Image Queries
    description: "Generate personalized image queries based on user's favorite team and podcast script content"
    instructions: |
      Generate 5 targeted image queries based on the user's favorite team and podcast script content.

      User preferences:
      - Favorite sport: {{favorite_sport}}
      - Favorite team: {{favorite_team}}

      Podcast script content:
      {{audio_content}}

      Mandatory queries (first 3):
      1. "{{favorite_team}} fans"
      2. "{{favorite_team}} stadium"
      3. "{{favorite_team}} mascot"

      Rules for remaining queries (4-5):
      - Extract ONLY from content explicitly mentioned in the podcast script (players, events, matches, locations, coaches, storylines)
      - Use concrete details: specific player names, match dates, events, locations
      - Include club name and competition/season/year when useful
      - NEVER include rival/opponent teams alone (e.g., NOT "{{rival_team}}")
      - Only include rivals when part of favorite team context (e.g., "{{favorite_team}} defeated {{rival}}" or "{{favorite_team}} vs {{rival}}")
      - If script doesn't mention specific players/matches, don't create those queries
      - Be concise and action-oriented

      Return only the image queries array (no explanations).
    schema:
      title: PersonalizedPodcastGenerateImageQueries
      description: Extracts precise image queries for comprehensive sports data retrieval based on user preferences and podcast script content
      type: object
      required: [ "image_queries" ]
      properties:
        image_queries:
          type: array
          description: Array of 5 image queries. First: "{favorite_team} fans", Second: "{favorite_team} stadium", Third: "{favorite_team} mascot", then 2 queries extracted from podcast script content.
          minItems: 5
          maxItems: 5
          items:
            type: string
            description: Image query. First 3 are mandatory (fans, stadium, mascot). Remaining queries extracted from script content (players, events, matches, locations).
