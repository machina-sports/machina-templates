prompts:

  # bundesliga-podcast-generate-image-queries
  - type: prompt
    name: bundesliga-podcast-generate-image-queries
    title: Bundesliga Podcast Generate Image Queries
    description: "Generate personalized image queries based on user's favorite team and podcast script content"
    instructions: |
      You are a sports content specialist. Based on the user's preferences and the podcast script content, generate highly targeted image queries to retrieve up-to-date and actionable information that will complement the podcast audio.

      User preferences:
      - Favorite sport: {{favorite_sport}}
      - Favorite team: {{favorite_team}}

      Podcast script content:
      {{audio_content}}

      Analyze the podcast script above to identify:
      - Specific players mentioned in the script
      - Key events, matches, or moments discussed
      - Important locations (stadiums, training grounds) referenced
      - Notable figures (coaches, management) highlighted
      - Current storylines or narratives featured

      Generate image queries that:
      1) ALWAYS start with the favorite team's logo as the first query (e.g., "{{favorite_team}} logo")
      2) ALWAYS include the favorite team's stadium as the second query (e.g., "{{favorite_team}} stadium")
      3) ALWAYS include the favorite team's mascot as the third query (e.g., "{{favorite_team}} mascot")
      4) Are extracted directly from the specific content discussed in the podcast script
      5) Reflect only the actual topics, players, events, and storylines mentioned in the audio content
      6) Prioritize the most prominent visual elements that are explicitly referenced in the script
      7) Focus on concrete details from the audio content (specific player names, match dates, events, locations, etc.)

      Rules:
      - The FIRST query MUST always be: "{{favorite_team}} logo" (this is mandatory and must be the first item in the array)
      - The SECOND query MUST always be: "{{favorite_team}} stadium" (this is mandatory and must be the second item in the array)
      - The THIRD query MUST always be: "{{favorite_team}} mascot" (this is mandatory and must be the third item in the array)
      - Extract queries exclusively from what is actually mentioned in the podcast script content
      - Generate short, specific image queries based on concrete details found in the audio content
      - Only include queries for players, events, locations, or topics that are explicitly referenced in the script
      - Include specific player names, match dates, events, or locations only if they appear in the audio content
      - Include the club name and, when useful, the competition/season and the current year
      - Do not create queries based on assumptions or generic team information - only use what's in the script
      - If the script doesn't mention specific players, don't create player queries
      - If the script doesn't mention specific matches, don't create match queries
      - Be concise, action-oriented, and directly tied to the actual podcast content
      - Ensure queries will retrieve images that visually support the specific narrative told in the podcast

      Return only the image queries (no explanations), ready for image search.
    schema:
      title: PersonalizedPodcastGenerateImageQueries
      description: Extracts precise image queries for comprehensive sports data retrieval based on user preferences and podcast script content
      type: object
      required: [ "image_queries" ]
      properties:
        image_queries:
          type: array
          description: Array of targeted image queries personalized based on the podcast script content, retrieving relevant visual content that complements the audio narrative about the user's favorite sport and team. The first query MUST always be the favorite team's logo (e.g., "{favorite_team} logo"), the second query MUST always be the favorite team's stadium (e.g., "{favorite_team} stadium"), and the third query MUST always be the favorite team's mascot (e.g., "{favorite_team} mascot"), followed by queries extracted from the podcast script content.
          minItems: 5
          maxItems: 5
          items:
            type: string
            description: Specific image query personalized based on the podcast script content, focused on retrieving actionable visual information that directly relates to the topics, players, events, or storylines discussed in the podcast (e.g., specific player names, match events, or storylines mentioned in the script). The first item must be "{favorite_team} logo", the second item must be "{favorite_team} stadium", and the third item must be "{favorite_team} mascot".
