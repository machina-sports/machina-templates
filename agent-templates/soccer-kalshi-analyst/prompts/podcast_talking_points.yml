prompt:
  name: podcast_talking_points
  title: Podcast Talking Points Extractor
  instructions: |
    Extract the key talking points from this match prediction for a podcast discussion.
    
    ### INPUT DATA:
    AI PREDICTION:
    {{ prediction_doc | json }}

    KALSHI ANALYSIS:
    {{ kalshi_analysis_doc | json }}

    ### TASK
    Extract 6-8 key talking points that two rival fans would argue about while trying to predict the match outcome.
    
    For each point, provide:
    - The topic (what they're discussing)
    - The HOME fan's take (defending their team or attacking the opponent, using specific facts/stats from the analysis)
    - The AWAY fan's take (defending their team or attacking the opponent, using specific facts/stats from the analysis)
    
    Focus on FACTUAL INSIGHTS that fans can use to make predictions:
    1. The matchup intro (who's playing, why it matters, what's at stake)
    2. Key injuries or absences (and how they impact the prediction)
    3. Recent form / stats that hurt or help (specific numbers, trends, patterns)
    4. Tactical mismatches (head-to-head stats, style clashes)
    5. Prediction insights (expected score, win probabilities, key factors)
    6. Betting/prediction angles (what the analysis suggests about the outcome)
    
    Each talking point should include SPECIFIC FACTS, STATS, or INSIGHTS from the prediction and analysis that fans can use to argue their prediction. Keep it factualâ€”just extract the info. The creative writing happens in the next step.
  schema:
    title: podcast_talking_points_output
    type: object
    required: ["home_team", "away_team", "predicted_score", "home_win_probability", "talking_points"]
    properties:
      home_team:
        type: string
      away_team:
        type: string
      predicted_score:
        type: string
        description: "Most likely score (e.g., '2-1')"
      home_win_probability:
        type: number
        description: "Home win probability as percentage (e.g., 70)"
      away_win_probability:
        type: number
      talking_points:
        type: array
        minItems: 5
        maxItems: 8
        items:
          type: object
          required: ["topic", "home_take", "away_take"]
          properties:
            topic:
              type: string
              description: "What this point is about"
            home_take:
              type: string
              description: "The fact/angle from home team perspective"
            away_take:
              type: string
              description: "The fact/angle from away team perspective"
            is_positive_for_home:
              type: boolean
              description: "True if this point favors the home team"

