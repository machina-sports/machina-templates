agent:
  name: social-media-engagement
  title: Social Media Engagement Agent
  description: |
    An agent that generates engaging social media content from soccer match predictions
    and Kalshi market analysis, including Twitter threads and AI-generated podcast videos.
  context:
    config-frequency: 10
    status: "inactive"
  context-agent:
    eventCode: "$.get('eventCode')"
  workflows:

    # 1. Generate the Twitter thread
    - name: soccer-generate-twitter-thread
      description: Generate an engaging Twitter thread for the specified match
      inputs:
        eventCode: $.get('eventCode')
      outputs:
        thread_document_id: $.get('thread_document_id')
        thread_ready: $.get('workflow-status', 'skipped') == 'executed'

    # 2. Generate a podcast-style two-actor dialogue script (clip-ready)
    - name: soccer-generate-podcast-dialogue
      description: Generate a HOME vs AWAY podcast dialogue script for the specified match
      inputs:
        eventCode: $.get('eventCode')
      outputs:
        podcast_script_document_id: $.get('podcast_script_document_id')
        podcast_script_ready: $.get('workflow-status', 'skipped') == 'executed'

    # 3. Generate podcast videos with AI-generated character images and consolidate
    - name: soccer-generate-podcast-videos
      description: Generate jacked animal character images for each team, create AI videos for each podcast segment, then consolidate into a single video
      condition: $.get('podcast_script_ready') == True
      inputs:
        eventCode: $.get('eventCode')
      outputs:
        podcast_videos_document_id: $.get('podcast_videos_document_id')
        final_video_url: $.get('final_video_url')
        home_podcast_frame_url: $.get('home_podcast_frame_url')
        away_podcast_frame_url: $.get('away_podcast_frame_url')
        videos_ready: $.get('workflow-status', 'skipped') == 'executed'