setup:
  title: Soccer Kalshi Analyst
  description: |
    AI-powered multi-league soccer forecasting agent that generates match predictions 
    using Monte Carlo simulation and identifies tradable edges on Kalshi markets.
    Supports Premier League, Serie A, Bundesliga, La Liga, Liga Portugal.
  category:
    - sports
    - analytics
    - soccer
    - prediction-markets
  estimatedTime: 5 minutes
  features:
    - Multi-league support (EPL, Serie A, Bundesliga, La Liga, Liga Portugal)
    - Autonomous fixture discovery and scheduling across leagues
    - Statistical baseline xG modeling from historical team performance
    - Real-time news intelligence with multilingual query generation
    - Quantified evidence extraction (injury impacts, tactical signals, motivation factors)
    - Tactical matchup analysis (style clashes, venue factors, H2H patterns)
    - Risk assessment with confidence calibration and abstention logic
    - Dixon-Coles enhanced Poisson Monte Carlo simulation (10,000 iterations)
    - Market-anchored calibration using Kalshi prices as Bayesian prior
    - Kelly Criterion stake sizing with EV-based position analysis
    - Multi-market correlation analysis to avoid double exposure
    - Risk-adjusted return optimization for correlated positions
    - Kalshi market edge detection with tier-based trading recommendations
    - Post-match auditing with Brier score and calibration tracking
    - Backtesting reports with ROI by tier and calibration curves
    - Rich prediction documents with full analytical audit trail
  integrations:
    - api-football
    - google-genai
    - machina-ai
    - kalshi
  status: available
  value: agent-templates/soccer-kalshi-analyst
  version: 4.0.0

datasets:

  # Agents
  - type: agent
    path: agents/soccer-kalshi-analyst.yml

  - type: agent
    path: agents/soccer-kalshi-setup.yml

  - type: agent
    path: agents/soccer-kalshi-sync.yml

  # Configuration

  - type: workflow
    path: configs/setup-folders.yml

  - type: workflow
    path: configs/setup-leagues.yml

  # Mappings

  - type: connector
    path: scripts/audit_calculator.yml

  - type: connector
    path: scripts/kelly_calculator.yml

  - type: connector
    path: scripts/correlation_analyzer.yml

  - type: mappings
    path: mappings/kalshi-markets-summary.yml

  # Prompts
  - type: prompt
    path: prompts/news_query_generator.yml

  - type: prompt
    path: prompts/news_evidence_extractor.yml

  - type: prompt
    path: prompts/forecast_stats_analyst.yml

  - type: prompt
    path: prompts/forecast_evidence_analyst.yml

  - type: prompt
    path: prompts/forecast_matchup_analyst.yml

  - type: prompt
    path: prompts/forecast_risk_officer.yml

  - type: prompt
    path: prompts/simulation_parameterizer.yml

  - type: prompt
    path: prompts/final_pricing.yml

  - type: prompt
    path: prompts/kalshi_edge_analyst.yml

  # Scripts
  - type: connector
    path: scripts/aggregate_features.yml

  - type: connector
    path: scripts/enrich-matched-events.yml

  - type: connector
    path: scripts/monte_carlo.yml

  - type: connector
    path: scripts/market-event-matcher.yml

  # Workflows

  - type: workflow
    path: workflows/consumer.yml

  - type: workflow
    path: workflows/collect-match-data.yml

  - type: workflow
    path: workflows/aggregate-match-features.yml

  - type: workflow
    path: workflows/forecast-stats.yml

  - type: workflow
    path: workflows/forecast-evidence.yml

  - type: workflow
    path: workflows/forecast-matchup.yml

  - type: workflow
    path: workflows/forecast-risk.yml

  - type: workflow
    path: workflows/forecast-simulation.yml

  - type: workflow
    path: workflows/analyze-kalshi-markets.yml

  - type: workflow
    path: workflows/sync-kalshi-events.yml

  - type: workflow
    path: workflows/update.yml
  # Validation & Backtesting Workflows
  - type: workflow
    path: workflows/post-match-auditor.yml

  - type: workflow
    path: workflows/backtesting-report.yml
