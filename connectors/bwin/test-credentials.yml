workflow:
  name: "bwin-test-credentials"
  title: "Bwin - Test Credentials"
  description: "Simple workflow to test Bwin API credentials."
  context-variables:
    debugger:
      enabled: true
    bwin:
      Bwin-AccessId: $TEMP_CONTEXT_VARIABLE_BWIN_ACCESS_ID
      Bwin-AccessIdToken: $TEMP_CONTEXT_VARIABLE_BWIN_ACCESS_ID_TOKEN
  outputs:
    result: "$.get('language_codes', [])"
    workflow-status: "$.get('workflow-status', 'skipped')"
  tasks:

    - type: connector
      name: bwin-test-credentials-task
      description: Test credentials by fetching supported language codes.
      connector:
        name: bwin
        command: get-offer/api/languageCodes
      outputs:
        language_codes: "$"
        workflow-status: "'executed'"
