mappings:

  - type: "mapping"
    title: "Tennis - Competition Mapping"
    name: "mapping-tennis-competition"
    description: "Mapping data from sportradar tennis competition data"
    outputs:
      competition_id: "$.get('competition').get('id', '')"
      competition_name: "$.get('competition').get('name', '')"
      competition_type: "$.get('competition').get('type', '')"
      gender_category: "$.get('competition').get('gender', '')"
      category_id: "$.get('competition').get('category', {}).get('id', '')"
      category_name: "$.get('competition').get('category', {}).get('name', '')"
      level: "$.get('competition').get('level', 'unknown')"
      parent_id: "$.get('competition').get('parent_id', '')"
      sport: "'tennis'"
      is_team_competition: "$.get('competition').get('type') == 'mixed'"
      organization: "$.get('competition').get('category', {}).get('name', '')"
      competition_title: f"{$.get('competition').get('category', {}).get('name', '')} - {$.get('competition').get('name', '')}"
      has_parent: "$.get('competition').get('parent_id') is not None"
      
  - type: "mapping"
    title: "Tennis - Competitions List"
    name: "mapping-tennis-competitions-list"
    description: "Mapping list of tennis competitions from sportradar API response"
    outputs:
      competitions_mapped: |
        [
          {
            'id': comp.get('id', ''),
            'name': comp.get('name', ''),
            'type': comp.get('type', ''),
            'gender': comp.get('gender', ''),
            'category_id': comp.get('category', {}).get('id', ''),
            'category_name': comp.get('category', {}).get('name', ''),
            'level': comp.get('level', 'unknown'),
            'parent_id': comp.get('parent_id', ''),
            'sport': 'tennis',
            'title': f"{comp.get('category', {}).get('name', '')} - {comp.get('name', '')}",
            'is_team_competition': comp.get('type') == 'mixed',
            'has_parent': comp.get('parent_id') is not None
          }
          for comp in $.get('competitions', [])
        ]