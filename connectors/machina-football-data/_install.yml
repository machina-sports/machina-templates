setup:
  title: Machina Football Data
  description: Football data connector by Machina. 5-source architecture covering 12 leagues with smart source gating.
  category:
    - data-acquisition
    - football
  estimatedTime: 1 minute
  features:
    - 20 commands covering all football data needs
    - "5-source architecture: ESPN, football-data.org, Understat, FPL, Transfermarkt"
    - "ESPN-primary: works without any API keys"
    - "Smart source gating: only queries sources with coverage for each league"
    - "FPL enrichment for Premier League: injury status, xG/xA, form, ICT index, set pieces, price"
    - Transfermarkt market values and transfer history via ceapi
    - Understat xG data for top 5 European leagues
    - Optional football-data.org enrichment when API key provided
    - Automatic season detection via ESPN
    - IPTC Sport Schema compatible output via mappings
    - Real-time live match updates
    - Lineups with formations
    - Player-level match statistics
    - "Season standings, leaders, transfers, injuries"
    - Head-to-head statistics
    - Daily schedule across 12 competitions
  integrations:
    - espn
    - football-data
    - understat
    - fpl
    - transfermarkt
  status: available
  value: connectors/machina-football-data
  version: 1.1.0

datasets:

  # connectors

  - type: "connector"
    path: "machina-football-data.yml"

  # test credentials

  - type: "workflow"
    path: "test-credentials.yml"

  # agents

  - type: "agent"
    path: "agents/event-prelive-update.yml"

  - type: "agent"
    path: "agents/event-live-update.yml"

  - type: "agent"
    path: "agents/config-seasons.yml"

  # mappings

  - type: "mappings"
    path: "mappings/iptc-sport-event.yml"

  - type: "mappings"
    path: "mappings/iptc-team.yml"

  - type: "mappings"
    path: "mappings/version-control.yml"

  # sync workflows

  - type: "workflow"
    path: "workflows/sync-competitions.yml"

  - type: "workflow"
    path: "workflows/sync-schedules.yml"

  - type: "workflow"
    path: "workflows/sync-standings.yml"

  - type: "workflow"
    path: "workflows/sync-season-leaders.yml"

  - type: "workflow"
    path: "workflows/sync-teams.yml"

  - type: "workflow"
    path: "workflows/sync-missing-players.yml"

  - type: "workflow"
    path: "workflows/sync-transfers.yml"

  - type: "workflow"
    path: "workflows/sync-team-roster.yml"

  # update workflows

  - type: "workflow"
    path: "workflows/event-consumer-prelive.yml"

  - type: "workflow"
    path: "workflows/event-consumer-live.yml"

  - type: "workflow"
    path: "workflows/event-synchronize.yml"

  - type: "workflow"
    path: "workflows/event-update.yml"
