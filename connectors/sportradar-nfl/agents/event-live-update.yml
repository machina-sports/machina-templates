agent:

  # sportradar-nfl-event-live-update
  name: sportradar-nfl-event-live-update
  title: Sportradar NFL - Event Live Update
  description: Agent to consume and update live NFL events (live, interrupted, post-live).
  context:
    config-frequency: 0.1
    status: "inactive"
  context-agent:
    event_code: $.get('event_code')
  workflows:

    # Workflow Event Consumer - Live
    - name: sportradar-nfl-event-consumer-live
      description: NFL Event Consumer (Live)
      inputs:
        event_code: $.get('event_code')
      outputs:
        event_document_id: $.get('event_document_id')
        event_exists: $.get('event_exists')
        event-consumer-status: $.get('workflow-status', False)
        market_code: $.get('market_code')

    # Workflow Event Sync Timeline
    - name: sportradar-nfl-event-sync-timeline
      description: NFL Event Sync Timeline
      inputs:
        event_document_id: $.get('event_document_id')
      outputs:
        event-sync-timeline-status: $.get('workflow-status', False)

    # Workflow Event Sync Markets
    - name: sportradar-nfl-event-sync-markets
      description: NFL Event Sync Markets
      inputs:
        event_document_id: $.get('event_document_id')
      outputs:
        event-sync-markets-status: $.get('workflow-status', False)

    # Workflow Event Update
    - name: sportradar-nfl-event-update
      description: NFL Event Update
      condition: $.get('event_exists') is True
      inputs:
        event_document_id: $.get('event_document_id')
      outputs:
        event-update-status: $.get('workflow-status', False)

    # Workflow Event Update
    - name: bwin-sync-variation
      description: NFL Event Update
      condition: $.get('event_exists') is True and $.get('market_code') is not None
      inputs:
        country: "'en'"
        competitionIds: "'35'"
        fixtureIds: $.get('market_code')
        sportId: "'11'"
      outputs:
        event-update-status: $.get('workflow-status', False)
