mappings:

  # iptc-sportradar-nfl-team-mapping
  - type: mapping
    title: "IPTC | SportRadar NFL Team Mapping"
    name: "iptc-sportradar-nfl-team-mapping"
    description: "Mapping data from SportRadar NFL to IPTC Sport Schema team format"
    outputs:
      sport_schema_teams: |
        [
          {
            "@context": {
              "sport": "https://www.sportschema.org/ontologies/sport#",
              "schema": "https://schema.org/"
            },
            "@id": f"urn:sportradar:team:{team.get('id')}",
            "@type": ["sport:Team", "schema:SportsTeam"],
            "name": team.get('name', ''),
            "schema:name": team.get('name', ''),
            "sport:officialName": team.get('name', ''),
            "sport:shortName": team.get('alias', team.get('name', '')),
            "sport:code": team.get('alias', ''),
            "sport:abbreviation": team.get('alias', ''),
            "sport:market": team.get('market', ''),
            "sport:status": "active",
            "title": team.get('name', '')
          }
          for team in $.get('teams_raw', {}).get('teams', [])
        ]

