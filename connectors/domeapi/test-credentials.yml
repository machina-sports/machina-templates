workflow:
  name: "domeapi-test-credentials"
  description: "Test DomeAPI credentials by fetching matching markets for sports"
  config-frequency: "manual"
  tasks:
    - type: "connector"
      name: "test-api-key"
      connector:
        name: "domeapi"
        command: "GetMatchingMarketsSports"
      inputs:
        x-api-key: "$TEMP_CONTEXT_VARIABLE_DOMEAPI_API_KEY"
      outputs:
        result: "$.get('markets', {})"
        status: "'success' if $.get('markets') else 'failed'"

