workflow:
  name: "sportradar-mlb-test-credentials"
  title: "Sportradar MLB - Test Credentials"
  description: "Simple workflow to test Sportradar MLB API credentials."
  context-variables:
    debugger:
      enabled: true
    sportradar-mlb:
      api_key: $TEMP_CONTEXT_VARIABLE_SPORTRADAR_MLB_API_KEY
  outputs:
    result: "$.get('games', [])"
    workflow-status: "$.get('workflow-status', 'skipped')"
  tasks:

    - type: connector
      name: sportradar-mlb-test-credentials-task
      description: Test credentials by fetching MLB schedule.
      connector:
        name: sportradar-mlb
        command: get-games/{season_year}/{season_type}/{data_type}
        command_attribute:
          season_year: "'2024'"
          season_type: "'REG'"
          data_type: "'schedule.json'"
      outputs:
        games: "$.get('games', [])"
        workflow-status: "'executed'"
