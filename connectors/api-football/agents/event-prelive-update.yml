agent:
  name: api-football-event-prelive-update
  title: API Football - Pre-Live
  description: Agent to consume and update pre-live API Football events (not_started, NS, TBD).
  context:
    config-frequency: 0.5
    status: "inactive"
  context-agent:
    event_code: $.get('event_code')
  workflows:

    # Workflow Event Consumer - Pre-Live
    - name: api-football-event-consumer-prelive
      description: API Football Event Consumer (Pre-Live)
      inputs:
        event_code: $.get('event_code')
      outputs:
        event_document_id: $.get('event_document_id')
        event_exists: $.get('event_exists')
        event-consumer-status: $.get('workflow-status', False)

    # Workflow Event Synchronize
    - name: api-football-event-synchronize
      description: API Football Event Synchronize
      inputs:
        event_document_id: $.get('event_document_id')
      outputs:
        event-synchronize-status: $.get('workflow-status', False)

    # Workflow Event Sync Markets
    - name: api-football-event-sync-markets
      description: API Football Event Sync Markets
      inputs:
        event_document_id: $.get('event_document_id')
      outputs:
        event-sync-markets-status: $.get('workflow-status', False)

    # Workflow Event Update
    - name: api-football-event-update
      description: API Football Event Update
      condition: $.get('event_exists') is True
      inputs:
        event_document_id: $.get('event_document_id')
      outputs:
        event-update-status: $.get('workflow-status', False)


