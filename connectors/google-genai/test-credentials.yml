workflow:
  name: "google-genai-test-credentials"
  title: "Google GenAI - Test Credentials"
  description: "Simple workflow to test Google GenAI/Vertex AI credentials."
  context-variables:
    debugger:
      enabled: true
    google-genai:
      credential: $TEMP_CONTEXT_VARIABLE_VERTEX_AI_CREDENTIAL
      project_id: $TEMP_CONTEXT_VARIABLE_VERTEX_AI_PROJECT_ID
  inputs:
    prompt: "$.get('prompt', 'Say hello in one sentence.')"
  outputs:
    result: "$.get('test_result', {})"
    workflow-status: "$.get('workflow-status', 'skipped')"
  tasks:

    - type: prompt
      name: google-genai-test-credentials-prompt
      description: Test credentials with a simple prompt.
      connector:
        name: google-genai
        command: invoke_prompt
        model: gemini-2.0-flash-001
        location: global
        provider: vertex_ai
      inputs:
        prompt: "$.get('prompt', 'Say hello in one sentence.')"
      outputs:
        test_result: "$"
        workflow-status: "'executed'"
